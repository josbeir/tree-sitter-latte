================================================================================
Simple variable
================================================================================

{$item}

--------------------------------------------------------------------------------

(document
  (latte_variable
    (identifier)))

================================================================================
Variable in HTML
================================================================================

<li>{$item}</li>

--------------------------------------------------------------------------------

(document
  (element
    (start_tag
      (tag_name))
    (latte_variable
      (identifier))
    (end_tag
      (tag_name))))

================================================================================
Multiple variables in HTML
================================================================================

<div>{$name} - {$email}</div>

--------------------------------------------------------------------------------

(document
  (element
    (start_tag
      (tag_name))
    (latte_variable
      (identifier))
    (text)
    (latte_variable
      (identifier))
    (end_tag
      (tag_name))))

================================================================================
Simple print tag
================================================================================

{=$variable}

--------------------------------------------------------------------------------

(document
  (latte_print_tag
    (expression
      (php_variable
        (identifier)))))

================================================================================
Variable with object property
================================================================================

{$post->title}

--------------------------------------------------------------------------------

(document
  (latte_variable
    (identifier)
    (identifier)))

================================================================================
Variable with method call
================================================================================

{$post->getTitle()}

--------------------------------------------------------------------------------

(document
  (latte_variable
    (identifier)
    (identifier)))

================================================================================
Variable with array access
================================================================================

{$items[0]}

--------------------------------------------------------------------------------

(document
  (latte_variable
    (identifier)
    (expression
      (number_literal))))

================================================================================
Variable with string array access
================================================================================

{$user['name']}

--------------------------------------------------------------------------------

(document
  (latte_variable
    (identifier)
    (expression
      (string_literal))))

================================================================================
Variable with chained property access
================================================================================

{$user->profile->name}

--------------------------------------------------------------------------------

(document
  (latte_variable
    (identifier)
    (identifier)
    (identifier)))

================================================================================
Function call
================================================================================

{count($items)}

--------------------------------------------------------------------------------

(document
  (latte_expression_tag
    (ERROR
      (macro_name))
    expression: (expression
      (parenthesized_expression
        (expression
          (php_variable
            name: (identifier)))))))

================================================================================
Function call with multiple arguments
================================================================================

{in_array($item, $list, true)}

--------------------------------------------------------------------------------

(document
  (latte_expression_tag
    (ERROR
      (macro_name)
      (expression
        (php_variable
          name: (identifier)))
      (macro_name))
    expression: (expression
      (boolean_literal))
    (ERROR)))

================================================================================
Binary expression with comparison
================================================================================

{=$post->status}

--------------------------------------------------------------------------------

(document
  (latte_print_tag
    (expression
      (php_variable
        (identifier)
        (identifier)))))

================================================================================
Print tag with function call
================================================================================

{=count($posts)}

--------------------------------------------------------------------------------

(document
  (latte_print_tag
    (expression
      (function_call
        (identifier)
        (argument_list
          (expression
            (php_variable
              (identifier))))))))

================================================================================
Variable assignment
================================================================================

{var $name = 'John'}

--------------------------------------------------------------------------------

(document
  (latte_assignment_tag
    (php_variable
      (identifier))
    (expression
      (string_literal))))

================================================================================
Variable assignment with variable
================================================================================

{var $total = $price}

--------------------------------------------------------------------------------

(document
  (latte_assignment_tag
    (php_variable
      (identifier))
    (expression
      (php_variable
        (identifier)))))

================================================================================
Default variable assignment
================================================================================

{default $count = 0}

--------------------------------------------------------------------------------

(document
  (latte_assignment_tag
    (php_variable
      (identifier))
    (expression
      (number_literal))))

================================================================================
Print tag with string
================================================================================

{='active'}

--------------------------------------------------------------------------------

(document
  (latte_print_tag
    (expression
      (string_literal))))

================================================================================
Print tag with variable
================================================================================

{=$name}

--------------------------------------------------------------------------------

(document
  (latte_print_tag
    (expression
      (php_variable
        (identifier)))))

================================================================================
Unary not operator
================================================================================

{=!$isActive}

--------------------------------------------------------------------------------

(document
  (latte_print_tag
    (expression
      (unary_expression
        (expression
          (php_variable
            (identifier)))))))

================================================================================
Array literal
================================================================================

{=[1, 2, 3, 4]}

--------------------------------------------------------------------------------

(document
  (latte_print_tag
    (expression
      (array_literal
        (expression
          (number_literal))
        (expression
          (number_literal))
        (expression
          (number_literal))
        (expression
          (number_literal))))))

================================================================================
Associative array literal
================================================================================

{=['name' => 'John', 'age' => 30]}

--------------------------------------------------------------------------------

(document
  (latte_print_tag
    (expression
      (array_literal
        (expression
          (string_literal))
        (expression
          (string_literal))
        (expression
          (string_literal))
        (expression
          (number_literal))))))

================================================================================
Named array with colon syntax
================================================================================

{var $config = [debug: true, timeout: 30]}

--------------------------------------------------------------------------------

(document
  (latte_assignment_tag
    (php_variable
      (identifier))
    (expression
      (array_literal
        (identifier)
        (expression
          (boolean_literal))
        (identifier)
        (expression
          (number_literal))))))

================================================================================
Mixed array syntax
================================================================================

{var $data = [name: 'John', 'email' => 'john@example.com', active: true]}

--------------------------------------------------------------------------------

(document
  (latte_assignment_tag
    (php_variable
      (identifier))
    (expression
      (array_literal
        (identifier)
        (expression
          (string_literal))
        (expression
          (string_literal))
        (expression
          (string_literal))
        (identifier)
        (expression
          (boolean_literal))))))
